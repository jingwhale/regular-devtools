<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>regular-todo</title>
  <link rel="stylesheet" href="/index.css">
</head>
<body>
  <!--引入todomvc.css-->
 
<div id="todoapp"></div>

<footer id="info">
  <p>Double-click to edit a todo</p>
  <p>Created by @leeluolee</p>
  <p>
    Part of
    <a href="http://todomvc.com">TodoMVC</a>
  </p>
</footer>
<div id="devtoolsInject" class="devtoolsInject"></div>

<script type='template/regular' id='devtoolsView'>
<div class='regualrDevtools'>
        <div class='devtoolsHeader'>
          <img src='https://camo.githubusercontent.com/2aa58d95573a7ea723774da778072ee580a4776f/687474703a2f2f726567756c61726a732e6769746875622e696f2f696d6167652f726567756c61722d69636f6e2d3130302e706e67' class='devtoolsHeader-img'/>
          <span class='devtoolsHeader-title'>Regular Devtools</span>
        </div>
        <div class='elementView'>
          {#list nodes as node}
              <element node={node} level={0} selected={false}></element>
          {/list}
        </div>
        <div class='stateView'>
        <div class='stateView-title purple'>{'<' + currentNode.name + '>'}</div>
        <div>data</div>
         {#list Object.keys(currentNode.data) as key}
            <div class='stateView-state gray'>
              <span class='bold'>{key + ': '} </span>
               <span class='blue'>{JSON.stringify(currentNode.data[key])}</span>
            </div>
         {/list}
        </div>
</div>
</script>

<script type='template/regular' id='elementView'>
  <div class="element purple" style="padding-left:{level*20}px;}" on-click={this.onClick(node)}>{'<' + node.name + '>' }</div>
  {#if node.childNodes.length > 0}
      {#list node.childNodes as n}
          <element node={n} level={level+1} on-click={this.onClick(1, $event)}></element>
      {/list}
  {/if}
</script>

<script type='template/regular' id='todo'>
<li  r-class={ {'completed': todo.completed, 'editing': todo.editing} }>
  <div class="view">
    <input class="toggle" type="checkbox" r-model={ todo.completed }>  
    <label on-dblclick={todo.editing = true}>{ todo.description }</label>
    <button on-click="remove" class="destroy"></button>
  </div>
  <input id="edit" class="edit"on-enter={ todo.editing = false } r-model={todo.description} autofocus>
</li>
</script>

<script type='template/regular' id='todomvc'>
<div>
  <h1>regular-todo</h1>
  <input id="new-todo" on-enter={ this.newTodo(editTodo) } placeholder="What needs to be done?" r-model={ editTodo }>
</div>
  
{#if !!todos.length}
<section id="main">

  <input id="toggle-all" type="checkbox" name='toggle' r-model='allCompleted'>
  <label for="toggle-all">Mark all as complete</label>
  <ul id="todo-list">
    {#list this.getList(filter) as todo}
    <todo todo={todo} on-remove={todos.splice(todo_index,1)} ></todo>
    {/list}
  </ul>
</section>
<footer id="footer">
  <span id="todo-count"> <strong>{ activeLength }</strong>
    { activeLength === 1 ? 'item' : 'items' } left
  </span>
  <ul id="filters">
    <li>
      <a class="{ filter === 'all'? 'selected' : '' }"  href="javascript:;" on-click={filter='all'}>All</a>
    </li>
    <li>
      <a class="{ filter === 'active'? 'selected' : '' }" href='javascript:;' on-click={filter = 'active'}>Active</a>
    </li>
    <li>
      <a class="{ filter === 'completed'? 'selected' : '' }" href="javascript:;" on-click={filter = 'completed'}>Completed</a>
    </li>
  </ul>
  {#if completedLength}
  <button id="clear-completed" on-click={this.clearCompleted()} >Clear completed ({ completedLength })</button>
  {/if}
</footer>
{/if}
</script>
<!-- 引入regularjs -->
<script src="/regular.js"></script>
<script src="/index.js"></script>
<script src="/devtools.js"></script>
</body>
</html>